<!-- s'affiche au chargement -->
<div *ngIf="isLoading">
  <h3 class="text-center">Veuillez Patienter</h3>
</div>

<!-- s'affiche une fois le component chargé -->
<div *ngIf="!isLoading">
  <br>
  <div class="bg-light">
    <h2>Modifier {{monster.name}} : </h2>

    <form #monsterForm="ngForm" (ngSubmit)="updateMonster()">


      <!-- nom -->
      <label for="name">Nom du monstre : </label>
      <input type="text" class="form-control" name="name" id="name" required [(ngModel)]="monster.name" #name="ngModel">
      <br>
      <div [hidden]="name.valid" class="alert alert-danger">
        Le nom du monstre est requis
      </div>

      <!-- titre -->
      <label for="title">Titre du monstre : </label>
      <input type="text" class="form-control" name="title" id="title" required [(ngModel)]="monster.title"
        #title="ngModel"> 
        <br>
      <div [hidden]="title.valid" class="alert alert-danger">
        Le titre du monstre est requis
      </div>

       <!-- panthéon -->
    <label for="pantheon">Panthéon du monstre : </label>
    <select class="form-control" name="pantheon" id="pantheon" required [(ngModel)]="monster.pantheon" #pantheon="ngModel" >
      <option *ngFor="let pantheon of pantheons" [value]="pantheon.id">{{pantheon.name}}</option>
    </select>
    <br>
    <div [hidden]="pantheon.valid" class="alert alert-danger">
      Le panthéon du monstre est requis
    </div>

    <!-- genre -->
    <label for="gender">Genre du monstre : </label>
    <select class="form-control" name="gender" id="gender" required [(ngModel)]="monster.gender" #gender="ngModel" >
      <option *ngFor="let gender of genders" [value]="gender.id">{{gender.name}}</option>
    </select>
    <br>
    <div [hidden]="gender.valid" class="alert alert-danger">
      Le genre du monstre est requis
    </div>

      <!-- origine -->
      <label for="place">Lieu du monstre : </label>
      <input type="text" class="form-control" name="place" id="place" required [(ngModel)]="monster.place"
        #place="ngModel">
      <br>
      <div [hidden]="place.valid" class="alert alert-danger">
        Le lieu du monstre est requis
      </div>

      <!-- histoire -->
      <label for="history">Histoire du monstre : </label>
      <input type="text" class="form-control" name="history" id="history" required [(ngModel)]="monster.history"
        #history="ngModel"> <br>
      <div [hidden]="history.valid" class="alert alert-danger">
        L'histoire du monstre est requise
      </div>

      <!-- image -->
      <label for="picture">Image du monstre : </label>
      <input type="file" class="form-control" name="picture" id="picture" required 
        #picture (change)="onFileChange($event)"> <br>
      <div [hidden]="picture.valid" class="alert alert-danger">
        L'image du monstre est requise
      </div>

      <input [disabled]="!monsterForm.valid" type="submit" value="Envoyer">
    </form>
  </div>
</div>
